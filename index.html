<!DOCTYPE html>
<html>

<head>
  <title>Automatic Insight Searcher</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="styles.css" />
  <script src="dateHelper.js"></script>
  <script src="loginFacebook.js"></script>
  <script src="planPosts.js"></script>
  <script src="insertPosts.js"></script>
  <script src="caller.js"></script>
  <script src="evaluatePosts.js"></script>
  <script src="scraper.js"></script>
  <script src="mustache.js"></script>
  <script src="modalViewer.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<body>
  <div id="modal-view" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
      <div class="modal-header">
        <span class="close">&times;</span>
        <h2 id="modal-title" />
      </div>
      <div class="modal-body">
        <div class="tab" id="posting-plan">
          <button class="tablinks" onclick="openPlan(event, 'plan_1')" id="defaultPlan">Plan 1</button>
          <button class="tablinks" onclick="openPlan(event, 'plan_2')">Plan 2</button>
          <button class="tablinks" onclick="openPlan(event, 'plan_3')">Plan 3</button>
        </div>
        <div id="plan_1" class="tabcontent"></div>
        <div id="plan_2" class="tabcontent"></div>
        <div id="plan_3" class="tabcontent"></div>
        <div class="tab" id="page-pool">
          <button class="tablinks" onclick="openPool(event, 'pool_1')" id="defaultPool">Pool 1</button>
          <button class="tablinks" onclick="openPool(event, 'pool_2')">Pool 2</button>
          <button class="tablinks" onclick="openPool(event, 'pool_3')">Pool 3</button>
        </div>
        <div id="pool_1" class="tabcontent"></div>
        <div id="pool_2" class="tabcontent"></div>
        <div id="pool_3" class="tabcontent"></div>
        <p id="modal-content" />
      </div>
    </div>
  </div>
  <button class="btn" id="postingPlan" onclick="showPostingPlan()"><i class="fa fa-tasks"></i> Posting Plan</button>
  <button class="btn" id="pagePool" onclick="showPagePool()"><i class="fa fa-archive"></i> Page Pool</button>
  <form>
    <label for="date-picker-planning" class="lblTop">date planing</label>
    <input name="date-picker-planning" type="date" id="date-picker-planning" />
  </form>
  <button id="post-button" onclick="activatePosting()">Planen</button>
  <button id="scrape-button" onclick="performQuery()">scrape</button>

  <br />
  <form>
    <label for="date-picker-search" class="lblTop">date search</label>
    <input name="date-picker-search" type="date" id="date-picker-search" />
    <br />
    <label for="date-picker-search-until" class="lblTop">date search</label>
    <input name="date-picker-search-until" type="date" id="date-picker-search-until" />
  </form>
  <form>
    <label for="date-picker-insights-from" class "lblTop">date evaluation start</label>
    <input name="date-picker-insights-from" type="date" id="date-picker-insights-from" />
    <label for="date-picker-insights-to" class "lblTop">end</label>
    <input name="date-picker-insights-to" type="date" id="date-picker-insights-to" />
  </form>
  <button id="evaluate-button" onclick="getPageIdList()">Evaluate</button>
  <button id="transfer-button">Transfer</button>
  <br />
  <button id="authorize-button" style="display: none;">Authorize</button>
  <button id="signout-button" style="display: none;">Sign Out</button>
  <button id="test">Test send source</button>
  <button id="test2">Test run</button>
  <input name="access-token-user" type="text" maxlength="512" id="userAccessToken" />
  <br />
  <fb:login-button scope="public_profile" onlogin="checkLoginState()"></fb:login-button>

  <table id="ranking" style="width: auto; overflow: auto">
  </table>
  </div>

  <!-- <script type="text/javascript">
    $(document).ready(function() {
      $("#transfer-button").click(function(e) {
        $.ajax({
          url: 'connectDatabase.php',
          type: 'post',
          cache: false,
          data: "post_id=" + "298823714",
          success: function(response) {
            console.log(response);
          }
           e.preventDefault();

           data: "post_id=" + "298823713" + "&post_caption=" + "NULL" + "&post_permalink=" + "" + "&post_status_type=" + "" +
          "&post_created_time=" + 0 + "&post_link_clicks=" + 0 + "&post_other_clicks=" + 0 +
          "&post_impressions_unique=" + 0 + "&post_like_total=" + 0 + "&post_comment=" + 0 +
          "&post_share=" + 0 + "&post_reaction_like=" + 0 + "&post_reaction_love=" + 0 +
          "&post_reaction_wow=" + 0 + "&post_reaction_haha=" + 0 + "&post_reaction_sorry=" + 0 +
          "&post_reaction_anger=" + 0 + "&post_hide_all_clicks=" + 0 + "&post_hide_clicks=" + 0 +
          "&post_video_views_organic=" + 0,
        });
      });
    });
    var date=$("#date").val();
    var fans_total=$("#fans_total").val();
    var fans_added_total=$("#fans_added_total").val();
 </script> -->

  <script>
    var modal = document.getElementById('modal-view');
    var test = document.getElementById('test');
    var test2 = document.getElementById('test2');
    var close = document.getElementsByClassName("close")[0];
    // When the user clicks on <span> (x), close the modal
    close.onclick = function() {
      modal.style.display = "none";
      saveVisiblePostingPlanEntries();
      saveVisiblePagePoolEntries();
    }
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = "none";
        saveVisiblePostingPlanEntries();
        saveVisiblePagePoolEntries();
      }
    }
    test.onclick = function() {
      accessSettings("", "readPageSource");
    }
    test2.onclick = function() {
      runProgram();
    }

    var page_id_list = ["WirLiebenTiereOfficial", 860380367476369, "Tiere.Katzen.Hunde", "BunteTierwelt", "Hundewau", 763915633763905, "TierfreundeOfficial", 1668018533226317];
    var date = new Date();

    document.getElementById('date-picker-insights-to').valueAsDate = date;
    document.getElementById('date-picker-search-until').valueAsDate = date;
    date.setDate(date.getDate() - 2);
    document.getElementById('date-picker-search').valueAsDate = date;
    document.getElementById('date-picker-insights-from').valueAsDate = date;
    date.setDate(date.getDate() + 3);
    document.getElementById('date-picker-planning').valueAsDate = date;
  </script>

  <div id="copyright">
    &copy; 2018 - Alle Rechte vorbehalten
  </div>
</body>

</html>